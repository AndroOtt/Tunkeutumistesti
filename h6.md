# A)  
Tässä kokeilin montaa tapaa, jos wiresharkki pystyitsi havaitsemaan esim ladatut tiedostot

<img width="940" height="466" alt="image" src="https://github.com/user-attachments/assets/1dcd117f-4e7a-4172-bb22-e017c0c58390" />

Näitä download pyyntöjä en itse pystynyt havaitsemaan wiresharkissa, (johtuu siitä, että en ymmärrä wiresharkkia tarpeeksi)

Kuitenkin wiresharkkiin ilmestyi mielenkiintoinen protocolla, nimeltään BROWSER. Tämä poikkesi selvästi muista joten lähtin tutkimaan.

Kun avasin kyseisen liikennen, näkyi cleartekstinä että tämä on metasploitablen yhteys.

<img width="1081" height="273" alt="image" src="https://github.com/user-attachments/assets/aeeeaea2-e0db-4d0f-b04a-ac7348f58c2c" />

Tämä siis ei ole toivottu yhteys mitä halutaan seurata, tutkitaan lisää. 

Käynnistin wiresharkin uudestaan ja käyin capture methodina "any", sain tuorreet capturet ja siitä selvisi yhteys nopeammin.

<img width="1618" height="69" alt="image" src="https://github.com/user-attachments/assets/2a0755bf-4937-4108-af5e-97b84c8a7162" />

Tämä on oikea, sillä 4343 porttia käytin payloadin asetuksissa, + mikään muu sovellus ei käytä 4343 porttia joten tämä oli melko itsestään selvä.

Kokeilin komentoa ls meterpreterissä, tämä avasi kasan uusia yhteyksiä wiresharkkiin.

<img width="1300" height="372" alt="image" src="https://github.com/user-attachments/assets/b8accff7-cbdc-47ba-b597-1ea0eab64a7f" />

Yhteyden tunnistautumista voisi vaikeuttaa sillä, että käyttäisi porttia mitä yleisesti muut TCP portilla pyörivät sovellukset käyttävät. 

VPN:n käyttäminen mahdollistaisi hyökkääjän ip:n piilottamista.

# B)

Aloitin siitä, että asensin sliverin.

<img width="672" height="275" alt="image" src="https://github.com/user-attachments/assets/35eb766a-7202-4cfb-a67f-04a9e0a2c215" />

Navigoin oikeeseen hakemistoon missä sliver oli asennettu.

<img width="265" height="46" alt="image" src="https://github.com/user-attachments/assets/7e1cf694-b25f-48cb-add2-1958b56e9fe2" />

Käynnistin sliverin

<img width="515" height="236" alt="image" src="https://github.com/user-attachments/assets/5a496f94-a949-4beb-bba9-436c5733f79a" />

Aluksi yritin muutamaa tapaa generoida payloadi.

<img width="617" height="75" alt="image" src="https://github.com/user-attachments/assets/9bc5d860-8d65-4b70-bd07-9289a34cc8a2" />

Tämä tapa ei onnistunut, joten päätin lukea dokkeja vähäsen. 

Dokeissa annetaan esimerkki, missä 

'sliver > generate --http example.com --os mac'

Tästä päättelin, että pitääkö -http olla ip osoite, sen sijaan että käytän pelkkää localhostia. En myöskään specifoi lporttia, koska se tuotti ongelmia. Sliverin käyttää defaulttina porttia 80

Kuitenkin, generointi epäonnistui

<img width="544" height="135" alt="image" src="https://github.com/user-attachments/assets/0060ebc1-31cd-4cc3-b4fe-2b9f26a813f8" />

Kun katsoin error viestiä tarkemmin, tajusin, että sliverillä ei ole oikeuksia tehdä tiedostoa. Joten sulkesin sliverin ja runnasin ohjelman sudo sliver komennolla

Tämän jälkeen implantin generointikin onnistui. Käynnistin malwaren ja silveriin syntyi sessio.

<img width="459" height="120" alt="image" src="https://github.com/user-attachments/assets/6b00915d-3e77-4135-9910-038756bf87cc" />

Sen jälkeen käynnistin


# C)

Tässä on havaittu yhteys. Koska Sliver käyttää 80 porttia defaulttina, niin voin olettaa, että tämä on yhteys mitä halutaan tarkkailla. Portti 80 on standardi HTTP liikennelle suunattu portti, joten se on piiloutunut liikenteeseen hyvin. Kuitenkin, hyökkääjä voi valita minkä tahansa portin, joten oikeassa simulaatiossa en voisi tietää porttia mitä hyökkääjä käyttää.

<img width="940" height="41" alt="image" src="https://github.com/user-attachments/assets/01d7dff9-4bb2-4188-8fc5-3d5db5377619" />

Mielenkiintoinen havainto oli se, että verrattuna normaaliin HTTP requesteihin, sliver teki erikoisija pyyntöjä, kuten email.js, bootstrap.min.js, jscript/. Nämä poikkeavat normaalista liikennestä. Jos tämä olisi oikea simulaatio lähtisin tutkimaan näitä. Toki en tiedä pystyykö näitä pyyntötyyppejä vaihtamaan, joku taitavampi sliverin käyttäjä pystyisi ohjelman tekemän sellaiseksi, että nämä ilmiselvät pyynnöt olisivatkin jotain eri pyyntöjä.

(Normaali HTTP pavelimen pyyntö)

<img width="940" height="201" alt="image" src="https://github.com/user-attachments/assets/9875c065-55a8-4d9a-aa31-529026e09501" />

(Sliverin HTTP pyyntö)

<img width="940" height="228" alt="image" src="https://github.com/user-attachments/assets/efce4787-de0b-460a-a35b-0c2ab16713df" />

