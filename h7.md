# X) 

https://dl.acm.org/doi/10.1145/3616401#footnotes

Artikkeli käsittelee automaatiota verkkoturvallisuuden konfiguroinnissa.

- Miten automaattisia turvallisuuspalvelujen arkkitehtuuria suunnittellaan (esim. VPN, palomuurit).

- Pienimmätkin konfigurointivirheet voivat johtaa vakaviin tietoturvaongelmiin, joita kyberhyökkääjät voivat hyödyntää.

- Haaste on, kun tehdään manuaalisia palomuurien ja VPN konfiguraatioita, siinä syntyy verkkoon anomalioita, mitä kautta hyökkääjä voi päästä verkkoon.

- Tietoverkot ovat muuttuneet monimutkaiseksi, paljon erilaisia sovelluksia mitkä pyörivat verkon yli ovat lisänneet attack surfacia (esim. VOIP).

- Automaatio suunnitellaan hierarkkisena prosessina, jossa korkean tason politiikat jalostetaan automaattisesti matalan tason konfiguraatioiksi käyttäen optimointitekniikoita.

  ![csur-2021-0019-f02](https://github.com/user-attachments/assets/9f80c04c-b02c-42b2-9da9-0d96146f7dc8)

- Artikkeli oli kuitenkin yli 4 sivua joten en yksityiskohtaisesti käynyt kaikkea läpi, kuitenkin yllä oleva tiivistää artikkelin hyvin.

# A)

Minulla on Kali VM tavalliseessa koneessa, eli ei tarvitse tehdä kattavaa raporttia.

Ei ole myöskään mitään paikallista tekoälyä.

# B) 

Tehtävässä piti ensiksi asentaa OPENVPN, konfiguroida se yhteensopivaksi HTB instanssin kanssa. 

<img width="617" height="224" alt="image" src="https://github.com/user-attachments/assets/ebeb8ca5-f517-41a0-b0d9-7ea60b49977d" />

En kuitenkaan saanut toimimaan OpenVPN kanssa HTB, joten päätin käyttää heidän PwnBoxia.

Ei tämäkään oikee toiminut, vaikka sain heidän koneen auki, niin silti joku tökki ja ei päästänyt minua seuraavalle tasolle.

<img width="1483" height="903" alt="image" src="https://github.com/user-attachments/assets/a850643c-5bb1-4539-9f6f-84d6cd284ca6" />

Kokeilen myöhemmin uudestaan.

Sain toimimaan HTB, tier 0 haasteet sujuivat ongelmitta. Tehtävissä käytettiin perus nmap skannausta ja porttien tunnistamista, miten smb serveriin saatiin yhteyttä ja miten telnettia käytettiin.

Ajattelin, että tässä tehtävässä on turhaa käydä yksityiskohtaisesti läpi samoja asioita mitä käytiin kurssin muissa tehtävissä perusteellisesti läpi.

Kuitenkin raporttiin haluaisin jakaa sen, mitkä asiat tuottivat haasteita. Tier1 ensimmäisestä tehtävästä lähtien.

nmap skannauksen jälkeen, sain tietää että portti 1433 käyttää SMB palvelua.

Sain yhdistettyy siihen ja salasanan auki, mikä oli M3g4c0rp123 

Sen jälkeen yritin käyttää mssqlclient.py:tä impacketillä. 

Kuitenkin, tämä epäonnistuu

<img width="1026" height="334" alt="image" src="https://github.com/user-attachments/assets/57d4d098-cb4a-49ab-86f0-5e8b8d4702f9" />

Katoin htb writeupista, mistä on kyse.

He lähtestyvät tätä ongelmaa eri tavalla, suoraan skripti python3 ajettavaksi.

<img width="787" height="314" alt="image" src="https://github.com/user-attachments/assets/2885e762-ab30-447d-8fa0-4210cbda05f7" />

Kokeillaan tätä tapaa.

Tämäkään tapa ei toimi.

<img width="712" height="216" alt="image" src="https://github.com/user-attachments/assets/9815dccd-dbdb-4588-bf4c-050d0e205f48" />

Päättelin tästä, että joku requierment minulta puuttuu. Yritän installaa requiermentit ja mennä sillä eteenpäin.

Kuitenkaan tämä tapa ei onnistunut.

<img width="820" height="471" alt="image" src="https://github.com/user-attachments/assets/558b5d4e-2539-4136-8cea-350ef8b7bcfe" />

Tässä vaiheessa päätin kysy tekoälyltä neuvoa.

Tekoäly neuvoi tekemään uuden virtual environmentin missä asennetaan impacket.

Tein silleen mutta uusi errori tuli.

<img width="907" height="256" alt="image" src="https://github.com/user-attachments/assets/05d36067-6649-42e8-adc5-160ea739e802" />

Tekoäly sitten sanoi, että tämä on syntaksivirhe, ja niinhän se olikin. (todennäköisesti jos olisin syntaksin kirjoittanut oikein alunperin olisi tämä mennyt läpi eikä olisi tarvinnut asentaa virtual env)

Mutta syntaksivirheen korjauksen jälkeen sain yhdistetty tietokantaan.

<img width="961" height="260" alt="image" src="https://github.com/user-attachments/assets/6e87200e-ffae-4c70-a77b-398cc24ef34d" />

ja help komennolla löytyi vastaus seuravaan tehtäväänkin.

<img width="760" height="437" alt="image" src="https://github.com/user-attachments/assets/51b947de-551a-4aff-9727-7fe05a653c99" />

xp_cmdshell

Tässä enablesin xp_cmdshellin ja lähin kokeilee asioita.

<img width="1160" height="302" alt="image" src="https://github.com/user-attachments/assets/995932b4-df7f-467a-a9ff-ad57be8e5eff" />

Task 6 en oikee ymmärtänyt mitä kysymys tarkoitti, käytin Hint toimintoa, ja se sanoi peas for windows. En edelleen ymmärtänyt mitä toi tarkoittaa, joten pienen googlauksen jälkeen vastaus oli winPEAS

WinPeas on sovellus mikä automaattisesti tunnistaa väärät konfiguraatiot esim. käyttäjien oikeudet, serverin policien asetukset, jne.

Seuraava kysymys oli missä tiedostossa on adminin salasana.

Luulin, että tässä pitää käyttää winPEAS, jotta voisin löytää salasanan. Tähän meni hieman aikaa, kunnes tajusin että tällä tehtävällä ei ollut mitään tekemistä winPEAS:in kanssa.

Jäin tähän jumiim, en löytänyt admin salasanaa, joten siirryin seuraavaan tehtävään.

<img width="1792" height="810" alt="image" src="https://github.com/user-attachments/assets/72928317-3c0b-48fd-9019-9c9047b58e46" />

Tässä tehtävässä sinulle on annettu ip osoite, mikä on sivusto. Tässä sivustossa sinun pitää ensiksi löytää login hakemisto.

Aluksi yritin fuffaa koko sivuston, mutta se ei onnistunut. Seuraavaksi yritin zap työkalua, ja se näytti kivasti kaikki alihakemistot.

<img width="313" height="810" alt="image" src="https://github.com/user-attachments/assets/19bbde1e-5f93-47ee-b822-88a0410ccf91" />

Navigoin login sivulle ja kirjauduin userina sisään.

Seuraavaksi piti kokeilla kirjautua admin tunnuksilla, jotta pääsee upload pagelle.

Tämä oli yllättävän yksinkertainen, piti muokata vain urlin id=2 -> id=1.

Admin tietokanta ID oli paljastettu ja sitä käytin cookie sessioniin muokkamiseen.

<img width="758" height="131" alt="image" src="https://github.com/user-attachments/assets/95e2ea93-bd81-4aea-8c81-6f512450ed82" />


Tässä vaiheessa en ymmärtänyt mitä pitää tehdä seuraavaksi, joten luin official writeuppia.

Writeupissa oli kuvattu, pitää lataa php reverse shell tiedosto ja se pitää uploadaa siihen.

Tässä oli kuitenkin todella paljon php tiedostoja, koitin niistä yhtä, reverse shell

<img width="888" height="387" alt="image" src="https://github.com/user-attachments/assets/8e8a13c9-09c3-44fd-aec7-e68913e760ae" />

Tohon reverse shelliin, piti muokata VPN ip osoite ip kenttään ja portti kenttään portti millä olet kuuntelemassa.

sitten nc -lvnp 1234 käyntiin ja kutsutaan osoite.

<img width="734" height="258" alt="image" src="https://github.com/user-attachments/assets/a706039d-d644-4e68-983c-e69654b38f65" /> 

sit piti ajaa siinä shellissä komento 

python3 -c "import pty;pty.spawn("/bin/bash")"

<img width="752" height="204" alt="image" src="https://github.com/user-attachments/assets/0f63bee1-d03f-4ea2-b988-3471ee943269" />

Tästä en pääsy enään eteenpäin. Official writeupissa oli joku cat db.php komento, enkä pääsy enää siitä eteenäpäin, Seuraavaan tehtävään.

Aloitin tehtävän tavallisella nmap skannauksella, sillä selvisi mitkä palvelut pyörivät osoitteessa.

nmap -sC (script feature missä nmap kerää tietoja porteista ja palveluista)

<img width="665" height="627" alt="image" src="https://github.com/user-attachments/assets/40d8e5a9-372d-4458-9944-5e6ca6f5666b" />

Tässä vaiheessa piti kirjautua ftp serveriin as Anonymous ja lataa get komennolla backup.zip tiedosto.

Sitten käytin John the ripperiä murtakseen salasana.

<img width="1095" height="723" alt="image" src="https://github.com/user-attachments/assets/154ad4b5-6581-4470-b657-f138f5807fbe" />

Tässä tuli muutama ongelma, mutta sain admin salasanan murrettu 

<img width="544" height="451" alt="image" src="https://github.com/user-attachments/assets/c9f4d4e5-dd2e-4a1f-b1d2-7df976543221" />

Tässä vaiheessa, kaikki tallentamat tiedostot poistuivat mukaan lukien kaikki htb box tallentamat tulokset.

Tässä kuitenkin todistus Tier 0 tehtävistä, että ne ovat suoritettu.

<img width="1455" height="593" alt="image" src="https://github.com/user-attachments/assets/dadbc02e-0a22-452c-8638-e74f1da4d675" />

Tajusin tässä vaiheessa, että ei olisi pitänyt tehdä kaikkia tehtäviä HTB:ssä, vaan 2 tehtävää. 

---06.10.2025 klo 10:18---

Nyt mennään ihan ohjeiden mukaisesti, tehdään tehtävä Tier 1: Responder. (Tajusin myös, että olin tehnyt jotenkin Tier2 tehtäviä, olin tehnyt tehtäviä yönmyöhää, en huomannut mitä olin oikee tekemässä.)

Aloitin tehtävän nmap skannauksella,

<img width="819" height="309" alt="image" src="https://github.com/user-attachments/assets/fcad7d6e-0a40-4358-a846-97270c95027b" />

Siitä saatiin infoa mitkä portit ovat auki

Kun yritin yhdistää palvelimelle, tuli not respondin error, joten luin official writeuppia.

Siinä neuvottiin käyttämään komentoa 

<img width="719" height="55" alt="image" src="https://github.com/user-attachments/assets/d1083448-f17c-4520-9fc2-ef40a904e2e8" />

(en ihan ymmäränyt mitä tämä tekee)

Tässä vaiheessa jäin hieman jumiin tehtävänantoon, palaan myöhemmin.

